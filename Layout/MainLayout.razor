@inherits LayoutComponentBase

<MudThemeProvider IsDarkMode="true" Theme="@Theme"/>
<MudSnackbarProvider/>

<MudLayout>
    <Conditional Expression="@(CurrentUser is not null)">
        <TrueContent>
            <AppBar />
        </TrueContent>
        <FalseContent>
            <SignIn OnSuccess="@( (user) => CurrentUser = user)" />
        </FalseContent>
    </Conditional>
</MudLayout>

@code{
    private ApplicationUser? CurrentUser { get; set; }

    private MudTheme Theme { get; } = new() 
    { 
        PaletteDark = new PaletteDark()
        {
            Primary = Colors.Grey.Darken2,
            Secondary = Colors.Grey.Darken3
        }
    };
}